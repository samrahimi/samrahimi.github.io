var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var o=Array(t),r=0,e=0;e<n;e++)for(var s=arguments[e],i=0,a=s.length;i<a;i++,r++)o[r]=s[i];return o};System.register(["./p-ba3208be.system.js","./p-0b5d6960.system.js"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.r;n=t.h},function(t){o=t.O}],execute:function(){var r=t("daily_snapshot",function(){function t(t){e(this,t);this.timeseries={};this.snapshot=[];this.rawdata=[];this.regions=[];this.days=[];this.selectedDate="";this.sortBy="cases";this.sortDir="desc"}t.prototype.sortSnapshotData=function(){switch(this.sortBy){case"cases":this.sortDir="desc";this.snapshot.sort((function(t,e){return t.confirmed-e.confirmed}));break;case"deaths":this.sortDir="desc";this.snapshot.sort((function(t,e){return t.deaths-e.deaths}));break;case"recovered":this.sortDir="desc";this.snapshot.sort((function(t,e){return t.recovered-e.recovered}));break;case"region":this.sortDir="asc";this.snapshot.sort((function(t,e){return t.region.localeCompare(e.region)}));break;case"country":this.sortDir="asc";this.snapshot.sort((function(t,e){return t.countryregion.localeCompare(e.countryregion)}));break}if(this.sortDir=="desc")this.snapshot.reverse()};t.prototype.getMostRecent=function(t){var e=this.timeseries[t][this.timeseries[t].length-1];return e};t.prototype.getAllByDate=function(t){var e=this;return this.regions.map((function(n){console.log(JSON.stringify(e.timeseries[n],null,2));return e.timeseries[n].filter((function(e){return e.date==t}))[0]}))};t.prototype.componentDidLoad=function(){var t=this;o.timeseriesByRegion$.subscribe((function(e){console.log(JSON.stringify(o.getRegions()));t.timeseries=Object.assign({},e);t.regions.length=0;t.regions=__spreadArrays(o.getRegions());t.days.length=0;t.days=__spreadArrays(o.getValidDays());t.selectedDate=t.days[t.days.length-1];t.snapshot=t.getAllByDate(t.selectedDate);t.sortSnapshotData();console.log(JSON.stringify(t.snapshot,null,2))}));if(this.regions.length==0)this.refreshData()};t.prototype.refreshData=function(){o.getRegionalTimeseriesDataset(true)};t.prototype.render=function(){var t=this;return[n("ion-header",null,n("ion-toolbar",{color:"primary"},n("ion-title",null,"Coronavirus Global Summary"),n("ion-buttons",{slot:"end"},n("ion-button",{href:"/data/about"},n("ion-icon",{slot:"icon-only",name:"information-circle"})))),n("ion-toolbar",null,n("ion-title",null,"Date ",this.selectedDate))),n("ion-content",{class:"ion-padding"},n("p",null,"This screen displays a snapshot of 2019-nCoV (coronavirus) cases and deaths for a specific day, broken out by region. You can skip to another date by using the dropdown, sort by clicking the column headers, or view the history of the outbreak in any region by clicking on it."),n("p",null,"First time here? ",n("ion-router-link",{href:"/data/about"},"Please read the info!")),n("div",{class:"hscroll"},n("div",{class:"min-500"},n("ion-grid",null,n("ion-row",null,n("ion-col",null,n("b",null,n("a",{href:"#",onClick:function(){t.sortBy="country";t.sortSnapshotData()}},"Country"))),n("ion-col",null,n("b",null,n("a",{href:"#",onClick:function(){t.sortBy="region";t.sortSnapshotData()}},"Region"))),n("ion-col",null,n("b",null,n("a",{href:"#",onClick:function(){t.sortBy="cases";t.sortSnapshotData()}},"Cases"))),n("ion-col",null,n("b",null,n("a",{href:"#",onClick:function(){t.sortBy="deaths";t.sortSnapshotData()}},"Deaths"))),n("ion-col",null,n("b",null,n("a",{href:"#",onClick:function(){t.sortBy="recovered";t.sortSnapshotData()}},"Recovered")))),this.snapshot.map((function(t){if(t){return n("ion-row",null,n("ion-col",null,t.countryregion),n("ion-col",null,n("ion-router-link",{href:"/time-series/region/"+t.region},t.region)),n("ion-col",null,t.confirmed),n("ion-col",null,t.deaths),n("ion-col",null,t.recovered))}else{return""}}))))))]};Object.defineProperty(t,"style",{get:function(){return":host{display:block;font-weight:700}ion-col{border:1px solid #eee!important}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}"},enumerable:true,configurable:true});return t}())}}}));