import{r as o,h as i}from"./p-b8715656.js";import"./p-4704e7c5.js";import{W as e}from"./p-4284854f.js";const s=class{constructor(i){o(this,i),this.posts=[],this.hashtags=[],this.currentSearchTxid=""}componentDidLoad(){e.hashtags$.subscribe(o=>{console.log(JSON.stringify(o));var i=o.filter(o=>!o.tags["No-Results"]).map(o=>({reads:o.data.reads,discuss:o.data.discuss,query:o.tags["Search-Query"],txid:o.id}));this.hashtags=[...i]}),e.getHashtags(0,50),e.posts$.subscribe(o=>{this.posts=o,console.log("gots posts")})}render(){return[i("ion-header",null,i("ion-toolbar",{color:"primary"},i("ion-buttons",{slot:"start"},i("ion-back-button",{defaultHref:"/"})),i("ion-title",null,"Weibo Archive"))),i("ion-content",{class:"ion-padding"},i("h3",null,"Archived Weibo Tags"),i("p",null,"Please wait a moment while we retrieve the list of Weibo hashtags. Click on any hashtag below to view posts and images"),i("div",{class:"chinese-text"},i("ion-grid",null,i("ion-row",null,i("ion-col",{size:"4"},i("b",null,"Query")),i("ion-col",{size:"4"},i("b",null,"Views")),i("ion-col",{size:"4"},i("b",null,"Discussions"))),this.hashtags.map(o=>i("ion-row",null,i("ion-col",{size:"4"},i("ion-router-link",{href:`weibo-viewer/${o.txid}/posts`},o.query)),i("ion-col",{size:"4"},o.reads),i("ion-col",{size:"4"},o.discuss))))))]}static get style(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.chinese-text{font-size:10px}.darkred{color:#c00!important}"}};export{s as weibo_viewer};