import{r as t,h as e}from"./p-b8715656.js";import"./p-601c53d5.js";import{O as i}from"./p-3099ae57.js";const o=class{constructor(e){t(this,e),this.timeseries={},this.rawdata=[],this.regions=[],this.days=[],this.selectedDate="",this.region=""}getMostRecent(t){return this.timeseries[t][this.timeseries[t].length-1]}getByDate(t,e){return this.timeseries[t].filter(()=>{})[0]}componentDidLoad(){i.timeseriesByRegion$.subscribe(t=>{console.log(JSON.stringify(i.getRegions())),this.timeseries=Object.assign({},t),this.regions.length=0,this.regions=[...i.getRegions()],this.days.length=0,this.days=[...i.getValidDays()],this.selectedDate=this.days[this.days.length-1],this.selectedTimeseries=this.timeseries[this.region]}),0==i.regions.length&&this.refreshData()}getNewConfirmedCases(t,e){return e>0&&!isNaN(t.confirmed)&&!isNaN(this.selectedTimeseries[e-1].confirmed)?t.confirmed-this.selectedTimeseries[e-1].confirmed:0}getNewConfirmedDeaths(t,e){return e>0&&!isNaN(t.deaths)&&!isNaN(this.selectedTimeseries[e-1].deaths)?t.deaths-this.selectedTimeseries[e-1].deaths:""}refreshData(){i.getRegionalTimeseriesDataset(!0)}render(){return[e("ion-header",null,e("ion-toolbar",{color:"primary"},e("ion-buttons",{slot:"start"},e("ion-back-button",{defaultHref:"/"})),e("ion-title",null,this.region))),e("ion-content",{class:"ion-padding"},e("h3",null,"Historical 2019-nCoV Data: ",this.region),e("p",null,"This view of the Daily Coronavirus archive lets you see how the outbreak has evolved / is evolving over time, in a specific region. Regional data currently goes back to January 24th, 2020, shortly after the virus began spreading internationally. Data from WHO via JHU CSSE"),e("p",null,"Available Formats:",e("a",{onClick:()=>{var t,e,i;t=`2019ncov-daily-${this.region}.json`,e=JSON.stringify(this.selectedTimeseries,null,2),(i=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},"JSON")," (or copy-paste to Excel)"),e("div",{class:"hscroll"},e("div",{class:"min-500"},e("ion-grid",null,e("ion-row",null,e("ion-col",{size:"2"},e("b",null,"Date")),e("ion-col",{size:"1"},e("b",null,"Cases")),e("ion-col",{size:"2"},e("b",null,"New Cases")),e("ion-col",{size:"1"},e("b",null,"Deaths")),e("ion-col",{size:"2"},e("b",null,"New Deaths")),e("ion-col",{size:"2"},e("b",null,"Recovered")),e("ion-col",{size:"2"},e("b",null,"Verify"))),this.selectedTimeseries.map((t,i)=>e("ion-row",null,e("ion-col",{size:"2"},t.date),e("ion-col",{size:"1"},t.confirmed),e("ion-col",{size:"2"},this.getNewConfirmedCases(t,i)),e("ion-col",{size:"1"},t.deaths),e("ion-col",{size:"2"},this.getNewConfirmedDeaths(t,i)),e("ion-col",{size:"2"},t.recovered),e("ion-col",{size:"2"},e("a",{href:t.verifyUrl},t.blockchainTxid.substr(0,10),"..."))))))),e("h3",null,"Support Our Efforts"),e("p",null,e("b",{class:"darkred"},"If you find this service useful, and/or believe that we are doing something that is important and beneficial to humanity, PLEASE make a confidential, secure donation to one of the addresses below. Your contribution will make a huge difference in ensuring that this project moves forward at a rapid pace, and that I am able to continue working full-time on this and other projects, projects which have the potential to make a direct impact on the course that this outbreak will take in the critical weeks ahead")),e("b",null,"ETH and Tokens: 0x71dfD8f3664a6c9925D4275169721e1a0f4281fc"),e("br",null),e("b",null,"BTC and Fiat currencies, contact me on Twitter below "),e("p",null,"Whether or not you can make a donation, you have a critical role to play in what is shaping up to be a pivotal moment in human history! This is not like a tsunami that causes devastation somewhere far away; it is more like an asteroid hurtling towards Earth, while we frantically try and knock it off its collision course."),e("p",null,"Please follow me on Twitter for important news about the epidemic and so that we can work together! ",e("a",{target:"_blank",href:"https://twitter.com/2020writein"},"@2020WriteIn")))]}static get style(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}"}};export{o as time_series};